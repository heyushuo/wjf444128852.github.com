<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>识别二维码</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />
    <meta name="description" content="" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="cleartype" content="on" />
    <!-- rem自适应JS -->
    <script src="js/flexible.js"></script>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/app.css">
</head>
<body>
    <div class="container">
        <h1>长按识别二维码</h1>
        <div class="content">
            <img onclick="loadUrl(this,'img-url')" src="images/githubQRcode.png" alt="">
            <!-- 识别二维码地址的信息DOM -->
            <p id="QRcode-info"></p>
        </div>
        <h1>上传二维码并解析</h1>
        <div class="content">
            <img  src="images/choose.png" alt="">
            <input onchange="getUrl(this,'file-url')" type="file" id="chooseFile">
            <!-- 识别二维码地址的信息DOM -->
            <p id="QRcode-message"></p>
        </div>
    </div>
    <script src="js/qrcode-plugin.js"></script>
    <script src="js/analyticCode.js"></script>
    <script>
        // 1 识别
        function loadUrl(e,param){
            analyticCode.getUrl(param,e,function(url){
                e.nextElementSibling.innerHTML = url;
            });
        }
        // 2上传
        function getUrl(e,param){
            analyticCode.getUrl(param,e,function(url1,url2){
                e.nextElementSibling.innerHTML = url1;
                e.previousElementSibling.src = url2;
            });
        }
    </script>
</body>
</html>